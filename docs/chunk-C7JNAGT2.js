import{b as bt,c as yt,d as Pt,e as vt}from"./chunk-FTGQ4SWQ.js";import{c as W,f as Z,g as F}from"./chunk-5WQAUWMP.js";import{A as Mt,a as tt,b as et,c as nt,d as it,e as ot,f as E,g as rt,h as at,i as lt,j as st,k as ct,l as f,m as mt,n as dt,o as pt,p as gt,q as ut,r as _t,s as wt,t as ft,v as S,w as D,x as ht,y as Ct,z as Ot}from"./chunk-DEFPRPEN.js";import{$a as L,Aa as v,Ib as H,Kb as J,Lb as K,Mb as w,Na as O,Pa as s,Ra as R,Ta as o,Ua as n,Va as l,Wa as I,Xa as j,Ya as x,Za as g,_a as Q,a as V,ab as z,b as q,cb as M,db as b,eb as y,fb as d,ga as u,gb as G,hb as B,jb as _,kb as $,lb as Y,mb as k,nb as U,oa as h,ob as X,pa as C,wa as P,za as c}from"./chunk-JVLTY23R.js";var St=[[["h1"]],"*"],Dt=["h1","*"],T=(()=>{let i=class i{constructor(){this.close=new P,this.show=!1}slideIn(){this.show=!0}slideOut(){this.show=!1,this.close.emit()}};i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=u({type:i,selectors:[["oee-sliding-overlay"]],outputs:{close:"close"},standalone:!0,features:[_],ngContentSelectors:Dt,decls:9,vars:2,consts:[[1,"sliding-overlay-container"],[1,"overlay-backdrop",3,"click"],[1,"overlay-content","py-4","px-8"],[1,"flex","mb-5"],["title","Close Overlay",1,"ms-auto",3,"click"],[1,"fa-solid","fa-x","text-3xl"]],template:function(e,a){e&1&&(L(St),o(0,"div",0)(1,"div",1),g("click",function(){return a.slideOut()}),n(),o(2,"div",2)(3,"div",3)(4,"h1"),z(5),n(),o(6,"button",4),g("click",function(){return a.slideOut()}),l(7,"i",5),n()(),z(8,1),n()()),e&2&&R("show",a.show)},dependencies:[w],styles:['*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:before, [_ngcontent-%COMP%]:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}[_ngcontent-%COMP%]:before, [_ngcontent-%COMP%]:after{--tw-content: ""}html[_ngcontent-%COMP%], [_nghost-%COMP%]{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body[_ngcontent-%COMP%]{margin:0;line-height:inherit}hr[_ngcontent-%COMP%]{height:0;color:inherit;border-top-width:1px}abbr[_ngcontent-%COMP%]:where([title]){text-decoration:underline dotted}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-size:inherit;font-weight:inherit}a[_ngcontent-%COMP%]{color:inherit;text-decoration:inherit}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%], pre[_ngcontent-%COMP%]{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small[_ngcontent-%COMP%]{font-size:80%}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}table[_ngcontent-%COMP%]{text-indent:0;border-color:inherit;border-collapse:collapse}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]:where([type=button]), input[_ngcontent-%COMP%]:where([type=reset]), input[_ngcontent-%COMP%]:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}[_ngcontent-%COMP%]:-moz-focusring{outline:auto}[_ngcontent-%COMP%]:-moz-ui-invalid{box-shadow:none}progress[_ngcontent-%COMP%]{vertical-align:baseline}[_ngcontent-%COMP%]::-webkit-inner-spin-button, [_ngcontent-%COMP%]::-webkit-outer-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{-webkit-appearance:textfield;outline-offset:-2px}[_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary[_ngcontent-%COMP%]{display:list-item}blockquote[_ngcontent-%COMP%], dl[_ngcontent-%COMP%], dd[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], hr[_ngcontent-%COMP%], figure[_ngcontent-%COMP%], p[_ngcontent-%COMP%], pre[_ngcontent-%COMP%]{margin:0}fieldset[_ngcontent-%COMP%]{margin:0;padding:0}legend[_ngcontent-%COMP%]{padding:0}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], menu[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}dialog[_ngcontent-%COMP%]{padding:0}textarea[_ngcontent-%COMP%]{resize:vertical}input[_ngcontent-%COMP%]::placeholder, textarea[_ngcontent-%COMP%]::placeholder{opacity:1;color:#9ca3af}button[_ngcontent-%COMP%], [role=button][_ngcontent-%COMP%]{cursor:pointer}[_ngcontent-%COMP%]:disabled{cursor:default}img[_ngcontent-%COMP%], svg[_ngcontent-%COMP%], video[_ngcontent-%COMP%], canvas[_ngcontent-%COMP%], audio[_ngcontent-%COMP%], iframe[_ngcontent-%COMP%], embed[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{display:block;vertical-align:middle}img[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{max-width:100%;height:auto}[hidden][_ngcontent-%COMP%]{display:none}*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:before, [_ngcontent-%COMP%]:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }[_ngcontent-%COMP%]::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.static){position:static}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.fixed){position:fixed}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.bottom-6){bottom:1.5rem}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.right-10){right:2.5rem}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.my-4){margin-top:1rem;margin-bottom:1rem}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.mb-4){margin-bottom:1rem}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.mb-5){margin-bottom:1.25rem}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.mb-6){margin-bottom:1.5rem}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.me-3){margin-inline-end:.75rem}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.ms-3){margin-inline-start:.75rem}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.ms-auto){margin-inline-start:auto}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.mt-10){margin-top:2.5rem}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.flex){display:flex}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.grid){display:grid}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.aspect-square){aspect-ratio:1 / 1}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.h-auto){height:auto}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.h-full){height:100%}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.w-14){width:3.5rem}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.w-5\\/6){width:83.333333%}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.max-w-96){max-width:24rem}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.flex-1){flex:1 1 0%}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.transform){transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.grid-cols-2){grid-template-columns:repeat(2,minmax(0,1fr))}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.flex-col){flex-direction:column}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.flex-wrap){flex-wrap:wrap}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.justify-end){justify-content:flex-end}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.justify-center){justify-content:center}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.gap-3){gap:.75rem}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.overflow-auto){overflow:auto}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.rounded-full){border-radius:9999px}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.border-r){border-right-width:1px}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.border-muted){border-color:var(--muted-fg)}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.bg-bg){background-color:var(--default-bg)}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.bg-primary){background-color:var(--primary-bg)}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.px-8){padding-left:2rem;padding-right:2rem}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.py-4){padding-top:1rem;padding-bottom:1rem}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.py-5){padding-top:1.25rem;padding-bottom:1.25rem}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.ps-3){padding-inline-start:.75rem}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.text-end){text-align:end}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.text-2xl){font-size:1.5rem;line-height:2rem}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.text-3xl){font-size:1.875rem;line-height:2.25rem}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.text-lg){font-size:1.125rem;line-height:1.75rem}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.font-bold){font-weight:700}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.uppercase){text-transform:uppercase}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.lowercase){text-transform:lowercase}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.italic){font-style:italic}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.text-danger){color:var(--danger-bg)}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.text-fg){color:var(--default-fg)}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.text-muted){color:var(--muted-fg)}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.text-primary){color:var(--primary-bg)}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.filter){filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.transition-all){transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.sliding-overlay-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1000;overflow:hidden;pointer-events:none}.sliding-overlay-container.show[_ngcontent-%COMP%]{pointer-events:auto}.sliding-overlay-container.show[_ngcontent-%COMP%]   .overlay-backdrop[_ngcontent-%COMP%]{opacity:1}.sliding-overlay-container.show[_ngcontent-%COMP%]   .overlay-content[_ngcontent-%COMP%]{transform:translate(0)}.overlay-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;opacity:0;transition:opacity .3s ease-in-out;--tw-backdrop-blur: blur(16px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.overlay-content[_ngcontent-%COMP%]{position:fixed;right:0;height:100%;width:90%;max-width:500px;transform:translate(100%);transition:transform .3s ease-in-out;background-color:var(--default-bg)}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.hover\\:rotate-180:hover){--tw-rotate: 180deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}#wrapper[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(.hover\\:bg-primary-dark:hover){background-color:var(--primary-dark)}']});let r=i;return r})();var kt=(()=>{let i=class i{constructor(){this.entries=[]}};i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=u({type:i,selectors:[["oee-entries-table"]],inputs:{entries:"entries"},standalone:!0,features:[_],decls:7,vars:1,consts:[[3,"dataSource"],["dataField","created_at","caption","Date","dataType","date"],["dataField","good_units","caption","Good units"],["dataField","availability","format","percent"],["dataField","performance","format","percent"],["dataField","quality","format","percent"],["dataField","oee","caption","OEE","format","percent"]],template:function(e,a){e&1&&(o(0,"dx-data-grid",0),l(1,"dxi-column",1)(2,"dxi-column",2)(3,"dxi-column",3)(4,"dxi-column",4)(5,"dxi-column",5)(6,"dxi-column",6),n()),e&2&&s("dataSource",a.entries)},dependencies:[w,D,S,E]});let r=i;return r})();var Nt=["slidingOverlay"];function Vt(r,i){if(r&1&&(I(0),o(1,"div",20),d(2),n(),o(3,"div",21),d(4),k(5,"percent"),n(),j()),r&2){let p=i.$implicit;c(2),B("",p[0],":"),c(2),G(p[1]!==void 0&&p[1]!==null?X(5,2,p[1],"1.1-2"):"...")}}var Ft=(()=>{let i=class i{constructor(t,e){this.fb=t,this.store=e,this.machine=null,this.entryForm=this.fb.group({run_time:[0,f.required],planned_production_time:[0,f.required],good_units:[0,f.required],total_units:[0,f.required],ideal_cycle_time:[0,f.required],date:[new Date().toISOString(),f.required]}),this.editingMode=!1,this.submitEmitter=new P,this.closeEmitter=new P}onSubmit(){this.machine===null||this.entryForm.invalid||(this.submitEmitter.emit(this.entryForm),this.editingMode||this.addOeeRecord())}open(t,e){this.slidingOverlay?.slideIn(),this.machine=t,this.editingMode=!!e,this.editingMode&&this.entryForm.patchValue(e)}close(){this.slidingOverlay?.slideOut(),this.closeEmitter.emit()}get run_time(){let t=this.entryForm.value.run_time;return t||null}get planned_production_time(){let t=this.entryForm.value.planned_production_time;return t||null}get good_units(){let t=this.entryForm.value.good_units;return t||null}get total_units(){let t=this.entryForm.value.total_units;return t||null}get ideal_cycle_time(){let t=this.entryForm.value.ideal_cycle_time;return t||null}getAvailability(){return this.planned_production_time?(this.run_time??0)/this.planned_production_time:null}getQuality(){return this.total_units?(this.good_units??0)/this.total_units:null}getPerformance(){return this.run_time?(this.ideal_cycle_time??0)*(this.total_units??0)/this.run_time:null}getOEE(){let t=this.getAvailability(),e=this.getQuality(),a=this.getPerformance();return t===null||e===null||a===null?null:t*e*a}getCalculations(){let t={availability:this.getAvailability(),quality:this.getQuality(),performance:this.getPerformance(),oee:this.getOEE()};return Object.entries(t)}addOeeRecord(){this.machine!==null&&(this.submitEmitter.emit(this.entryForm),this.store.dispatch(new Pt(this.machine,q(V({},this.entryForm.value),{date:new Date(this.entryForm.value.date).toISOString()}))).subscribe(()=>{this.close(),this.closeEmitter.emit(),this.entryForm.reset()}))}};i.\u0275fac=function(e){return new(e||i)(v(wt),v(F))},i.\u0275cmp=u({type:i,selectors:[["oee-entry-form"]],viewQuery:function(e,a){if(e&1&&M(Nt,5),e&2){let m;b(m=y())&&(a.slidingOverlay=m.first)}},outputs:{submitEmitter:"submit",closeEmitter:"close"},standalone:!0,features:[_],decls:36,vars:2,consts:[["slidingOverlay",""],[1,"italic","mb-6"],[3,"ngSubmit","formGroup"],[1,"flex","flex-wrap","gap-3"],["for","runtime"],["type","number","id","runtime","formControlName","run_time"],["for","planned_time"],["type","number","id","planned_time","formControlName","planned_production_time"],["for","good_units"],["type","number","id","good_units","formControlName","good_units"],["for","total_units"],["type","number","id","total_units","formControlName","total_units"],["for","ideal_cycle_time"],["type","number","id","ideal_cycle_time","formControlName","ideal_cycle_time"],[1,"grid","grid-cols-2","my-4"],[4,"ngFor","ngForOf"],["formControlName","date"],[1,"flex","justify-end","mt-10"],[1,"btn"],[1,"default-btn"],[1,"font-bold","text-end"],[1,"ps-3"]],template:function(e,a){if(e&1){let m=x();o(0,"oee-sliding-overlay",null,0)(2,"h1"),d(3,"Add Entry"),n(),o(4,"p",1),d(5," (please enter time in minutes) "),n(),o(6,"form",2),g("ngSubmit",function(){return h(m),C(a.onSubmit())}),o(7,"div",3)(8,"div")(9,"label",4),d(10,"Run time"),n(),l(11,"input",5),n(),o(12,"div")(13,"label",6),d(14,"Planned production time"),n(),l(15,"input",7),n(),o(16,"div")(17,"label",8),d(18,"Good units"),n(),l(19,"input",9),n(),o(20,"div")(21,"label",10),d(22,"Total units"),n(),l(23,"input",11),n(),o(24,"div")(25,"label",12),d(26,"Ideal cycle time"),n(),l(27,"input",13),n()(),o(28,"div",14),O(29,Vt,6,5,"ng-container",15),n(),l(30,"dx-date-box",16),o(31,"div",17)(32,"button",18),d(33," Cancel "),n(),o(34,"button",19),d(35," Save "),n()()()()}e&2&&(c(6),s("formGroup",a.entryForm),c(23),s("ngForOf",a.getCalculations()))},dependencies:[w,H,K,T,ft,pt,ct,gt,mt,dt,ut,_t,Ct,ht]});let r=i;return r})();var qt=["machineFormOverlay"],Rt=["machineFormComponent"],It=["entryFormComponent"],jt=()=>({placeholder:"Name"}),Qt=r=>["details/",r];function Lt(r,i){if(r&1){let p=x();o(0,"button",33),g("click",function(){let e=h(p).$implicit,a=Q();return C(a.openEntryForm(e.data))}),l(1,"i",34),n()}}function Gt(r,i){if(r&1&&(o(0,"a",35),l(1,"i",36),n()),r&2){let p=i.$implicit;s("routerLink",Y(1,Qt,p==null||p.data==null?null:p.data.id))}}function Bt(r,i){if(r&1&&l(0,"oee-entries-table",37),r&2){let p,t=i.$implicit;s("entries",(p=t==null||t.data==null?null:t.data.latest_entries)!==null&&p!==void 0?p:null)}}var Me=(()=>{let i=class i{constructor(t){this.store=t,this.machines$=this.store.select(vt.machines),this.store.dispatch(new yt),this.machineForm={machine_name:""}}openMachineForm(){this.slidingOverlay?.slideIn()}resetForm(){this.machineFormComponent?.instance.reset()}addMachine(t){t.preventDefault(),this.machineFormComponent?.instance.validate()?.isValid&&this.store.dispatch(new bt(this.machineForm)).subscribe({next:()=>{this.slidingOverlay?.slideOut(),this.resetForm()},error:a=>{}})}log(t){return console.log("machine: ",t),t}openEntryForm(t){this.entryFormComponent?.open(t)}};i.\u0275fac=function(e){return new(e||i)(v(F))},i.\u0275cmp=u({type:i,selectors:[["app-machines"]],viewQuery:function(e,a){if(e&1&&(M(qt,5),M(Rt,5),M(It,5)),e&2){let m;b(m=y())&&(a.slidingOverlay=m.first),b(m=y())&&(a.machineFormComponent=m.first),b(m=y())&&(a.entryFormComponent=m.first)}},standalone:!0,features:[_],decls:39,vars:18,consts:[["machineFormOverlay",""],["machineFormComponent",""],["entryFormComponent",""],[1,"h-full","flex","flex-col"],[1,"mb-5"],[1,"flex-1"],[1,"h-full",3,"dataSource","showColumnLines","showRowLines"],["dataField","id","caption","ID","alignment","start","width","auto"],["dataField","machine_name","caption","Name"],["dataField","total_good_units","caption","Good Units"],["dataField","average_availability","caption","Average availability"],["dataField","average_performance","caption","Average performance"],["dataField","average_quality","caption","Average quality"],["dataField","average_oee","caption","Average OEE"],["type","buttons","width","auto"],["hint","Add Record","template","addEntryTemplate"],["type","button","title","Add Record","class","text-primary",3,"click",4,"dxTemplate","dxTemplateOf"],["hint","View","template","viewTemplate"],["type","button","title","Add Record","class","text-fg ms-3",3,"routerLink",4,"dxTemplate","dxTemplateOf"],["template","LatestEntriesTemplate",3,"enabled"],[3,"entries",4,"dxTemplate","dxTemplateOf"],[3,"enabled"],[3,"enabled","showIndicator"],["title","Add Machine",1,"fixed","bottom-6","right-10","w-14","h-auto","aspect-square","rounded-full","bg-primary","hover:rotate-180","hover:bg-primary-dark","transition-all",3,"click"],[1,"fa-solid","fa-plus","text-3xl"],[3,"submit"],[3,"formData"],["dataField","machine_name","caption","Name",3,"editorOptions"],["text","Name"],["type","required","message","Name is required"],["type","stringLength","message","Name must be between 3 and 30 characters",3,"min","max"],["itemType","button"],["text","Add machine",3,"useSubmitBehavior"],["type","button","title","Add Record",1,"text-primary",3,"click"],[1,"fa-solid","fa-plus"],["type","button","title","Add Record",1,"text-fg","ms-3",3,"routerLink"],[1,"fa-solid","fa-eye"],[3,"entries"]],template:function(e,a){if(e&1){let m=x();o(0,"div",3)(1,"h1",4),d(2,"Machines"),n(),o(3,"div",5)(4,"dx-data-grid",6),k(5,"async"),l(6,"dxi-column",7)(7,"dxi-column",8)(8,"dxi-column",9)(9,"dxi-column",10)(10,"dxi-column",11)(11,"dxi-column",12)(12,"dxi-column",13),o(13,"dxi-column",14)(14,"dxi-button",15),O(15,Lt,2,0,"button",16),n(),o(16,"dxi-button",17),O(17,Gt,2,3,"a",18),n()(),l(18,"dxo-master-detail",19),O(19,Bt,1,1,"oee-entries-table",20),l(20,"dxo-paging",21)(21,"dxo-load-panel",22),n()()(),o(22,"button",23),g("click",function(){return h(m),C(a.openMachineForm())}),l(23,"i",24),n(),o(24,"oee-sliding-overlay",null,0)(26,"h1"),d(27,"Add machine"),n(),o(28,"form",25),g("submit",function(Et){return h(m),C(a.addMachine(Et))}),o(29,"dx-form",26,1)(31,"dxi-item",27),l(32,"dxo-label",28)(33,"dxi-validation-rule",29)(34,"dxi-validation-rule",30),n(),o(35,"dxi-item",31),l(36,"dxo-button-options",32),n()()()(),l(37,"oee-entry-form",null,2)}e&2&&(c(4),s("dataSource",U(5,15,a.machines$))("showColumnLines",!1)("showRowLines",!1),c(11),s("dxTemplateOf","addEntryTemplate"),c(2),s("dxTemplateOf","viewTemplate"),c(),s("enabled",!0),c(),s("dxTemplateOf","LatestEntriesTemplate"),c(),s("enabled",!1),c(),s("enabled",!1)("showIndicator",!0),c(8),s("formData",a.machineForm),c(2),s("editorOptions",$(17,jt)),c(3),s("min",3)("max",30),c(2),s("useSubmitBehavior",!0))},dependencies:[w,J,D,S,E,it,rt,et,nt,ot,at,lt,st,tt,T,Mt,Ot,kt,Ft,Z,W]});let r=i;return r})();export{Me as MachinesComponent};
